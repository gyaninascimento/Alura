<html>

<head>
  <title>
    Imersão Dev - Aula 06
  </title>
</head>

<body>
  <h1>Tabela de classificação</h1>

  <table style="width:100%">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Vitórias</th>
        <th>Empates</th>
        <th>Derrotas</th>
        <th>Pontos</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody id="tabelaJogadores">
      <!--<tr>
        <td>Paulo</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td><button onClick="adicionarVitoria()">Vitória</button></td>
        <td><button onClick="adicionarEmpate()">Empate</button></td>
        <td><button onClick="adicionarDerrota()">Derrota</button></td>
      </tr>
      <tr>
        <td>Rafa</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td><button onClick="adicionarVitoria()">Vitória</button></td>
        <td><button onClick="adicionarEmpate()">Empate</button></td>
        <td><button onClick="adicionarDerrota()">Derrota</button></td>
      </tr>
      <tr>
        <td>Gui</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td><button onClick="adicionarVitoria()">Vitória</button></td>
        <td><button onClick="adicionarEmpate()">Empate</button></td>
        <td><button onClick="adicionarDerrota()">Derrota</button></td>
      </tr>
    </tbody>-->
  </table>

  <script>
      //          chave | valor
      var rafa = {nome: "Rafa", vitorias: 2, empates: 1, derrotas: 1, pontos: 0};//vaariavel que referencia um objeto, que possui campos(atributos) e cada campo tem um valor
      var paulo = {nome: "Paulo", vitorias: 1, empates: 1, derrotas: 2, pontos: 0};

      function calculaPontos(jogador){//função que calcula os pontos dado um parametro/argumento (jogador)
          var pontos = jogador.vitorias * 3 + jogador.empates
          return pontos;//guarda o resultado do calculo dentro de pontos- retorne para quem me chamou
      }

      rafa.pontos = calculaPontos (rafa);//calcule os  pontos  do jogador, pega o  retorno o guarde dentro da chave pontos do objeto x
      paulo.pontos = calculaPontos (paulo);

      var jogadores= [rafa, paulo];//array que guarda os objetos

      function exibeJogadoresNaTela(jogadores){//o jogador vai ser referenciado por conta do indice do array
          var elemento = ""
          for (var i = 0; i < jogadores.length; i++){//variavel inicial com valor 0, enquanto i for menor que jogadores, essa estrutura deve ser executada, incremente e passe para o proximmo jogador
            elemento += "<tr><td>" + jogadores[i].nome+"</td>"
            elemento += "<td>" + jogadores[i].vitorias+"</td>"
            elemento += "<td>" + jogadores[i].empates+"</td>"
            elemento += "<td>" + jogadores[i].derrotas+"</td>"
            elemento += "<td>" + jogadores[i].pontos+"</td>"
            elemento += "<td><button onClick='adicionarVitoria("+ i +")'>Vitória</button></td>"//colocar aspas simples dentro das aspas duplas
            elemento += "<td><button onClick='adicionarEmpate("+ i +")'>Empate</button></td>"
            elemento += "<td><button onClick='adicionarDerrota("+ i +")'>Derrota</button></td>"
            elemento += "</tr>"
          }
          var tabelaJogadores = document.getElementById("tabelaJogadores")//pegue o elemento pelo id
          tabelaJogadores.innerHTML = elemento//colocar dentro do elento html  as infos da tabela
      } 
        exibeJogadoresNaTela(jogadores)

        function adicionarVitoria(i){
            var jogador = jogadores[i];
            jogador.vitorias++ //aumenta em 1
            jogador.pontos = calculaPontos (jogador)//calcula os pontos novamente
            exibeJogadoresNaTela(jogadores)
        }

        function adicionarEmpate(i){
            var jogador = jogadores[i];
            jogador.empates++ //aumenta em 1
            jogador.pontos = calculaPontos (jogador)//calcula os pontos novamente
            exibeJogadoresNaTela(jogadores)
        }

        function adicionarDerrota(i){
            var jogador = jogadores[i];
            jogador.derrotas++ //aumenta em 1
            exibeJogadoresNaTela(jogadores)
        }
      
      console.log(rafa)
      console.log(paulo)
  </script>
</body>

</html>